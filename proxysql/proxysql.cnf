datadir="/var/lib/proxysql"

admin_variables=
{
    admin_credentials="admin:admin"
    mysql_ifaces="0.0.0.0:6032"
}

mysql_variables=
{
    threads=4
}

mysql_servers =
(
    { address = "mysql_sucursal1", port = 3306, hostgroup = 10 },
    { address = "mysql_sucursal2", port = 3306, hostgroup = 11 },
    { address = "mysql_sucursal3", port = 3306, hostgroup = 12 },
    { address = "mysql_credit",    port = 3306, hostgroup = 20 },
    { address = "mysql_mercadeo",  port = 3306, hostgroup = 21 }
)

mysql_users =
(
    { username = "flask_user", password = "flask_pass", default_hostgroup = 10 }
)

mysql_query_rules =
(
    { rule_id = 1, active = 1, match_pattern = "^SELECT.*FROM tarjetas", destination_hostgroup = 20 },
    { rule_id = 2, active = 1, match_pattern = "^SELECT.*FROM cliente_tarjeta", destination_hostgroup = 20 },
    { rule_id = 3, active = 1, match_pattern = "^SELECT.*FROM campañas", destination_hostgroup = 21 },
    { rule_id = 4, active = 1, match_pattern = "^SELECT.*FROM cliente_campaña", destination_hostgroup = 21 },
    { rule_id = 5, active = 1, match_pattern = ".*sucursal='sucursal1'", destination_hostgroup = 10 },
    { rule_id = 6, active = 1, match_pattern = ".*sucursal='sucursal2'", destination_hostgroup = 11 },
    { rule_id = 7, active = 1, match_pattern = ".*sucursal='sucursal3'", destination_hostgroup = 12 }
)
